/* ZYMath 0.59.0  */
var global,factory;global=this,factory=function(e){function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e){var t={exports:{}};return e(t,t.exports),t.exports}var s=r((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0})),a=r((function(e){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],s=!0,a=!1,i=void 0;try{for(var n,o=e[Symbol.iterator]();!(s=(n=o.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==o.return||o.return()}finally{if(a)throw i}}return r}},e.exports.default=e.exports,e.exports.__esModule=!0})),i=r((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s},e.exports.default=e.exports,e.exports.__esModule=!0})),n=r((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0})),o=r((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0})),l=t(r((function(e){e.exports=function(e,t){return s(e)||a(e,t)||n(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0}))),m=t(r((function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0}))),h=t(r((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}))),u=t(r((function(e){function t(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}e.exports=function(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e},e.exports.default=e.exports,e.exports.__esModule=!0})));function c(e){return Array.isArray(e)}var p=t(r((function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),d={},f={"<":"<",">":">",o:"o","&":"\\&","{":"\\{","}":"\\}","[":"\\lbrack","]":"\\rbrack",":":"\\colon"," ":"~","¬":"\\neg","·":"\\cdot","¼":"\\frac{1}{4}","½":"\\frac{1}{2}","¾":"\\frac{3}{4}","⁰":"^{0}","ⁱ":"^{i}","¹":"^{1}","²":"^{2}","³":"^{3}","†":"\\dagger","‡":"\\ddagger","…":"\\ldots","⁴":"^{4}","⁵":"^{5}","⁶":"^{6}","⁷":"^{7}","⁸":"^{8}","⁹":"^{9}","⁺":"^{+}","⁻":"^{-}","⁼":"^{=}","ⁿ":"^{n}","₀":"_{0}","₁":"_{1}","₂":"_{2}","₃":"_{3}","₄":"_{4}","₅":"_{5}","₆":"_{6}","₇":"_{7}","₈":"_{8}","₉":"_{9}","₊":"_{+}","₋":"_{-}","₌":"_{=}","ₐ":"_{a}","ₑ":"_{e}","ₒ":"_{o}","ₓ":"_{x}","′":"\\prime","'":"\\prime","←":"\\gets","→":"\\to","△":"\\triangle","▽":"\\triangledown","∋":"\\owns","∗":"\\ast","∣":"\\vert","∥":"\\Vert","∧":"\\land","∨":"\\lor","⋅":"\\cdot","⋈":"\\bowtie","≠":"\\ne","≤":"\\le","≥":"\\ge","⊥":"\\bot","⟷":"\\biconditional","⟸":"\\impliedby","⟹":"\\implies","ℂ":"\\C","ℕ":"\\N","ℙ":"\\P","ℚ":"\\Q","ℝ":"\\R","ℤ":"\\Z"},g={},v={},b={"\\#":"#","\\&":"&","\\$":"$","\\%":"%","\\_":"_","\\euro":"€","\\maltese":"✠","\\{":"{","\\}":"}","\\nobreakspace":" ","\\ldots":"…","\\textellipsis":"…","\\backslash":"\\","`":"‘","'":"’","``":"“","''":"”","\\degree":"°","\\textasciicircum":"^","\\textasciitilde":"~","\\textasteriskcentered":"*","\\textbackslash":"\\","\\textbraceleft":"{","\\textbraceright":"}","\\textbullet":"•","\\textdollar":"$","\\textsterling":"£","\\textdagger":"†","\\textdaggerdbl":"‡","–":"–","—":"—","‘":"‘","’":"’","“":"“","”":"”",'"':"”","\\ss":"ß","\\ae":"æ","\\oe":"œ","\\AE":"Æ","\\OE":"Œ","\\O":"Ø","\\i":"ı","\\j":"ȷ","\\aa":"å","\\AA":"Å"};function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mord",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";d[e]={type:r,variant:s,value:t},f[t]||s||(f[t]=e),b[e]=t}function x(e,t){for(var r=e;r<=t;r++){var s=String.fromCodePoint(r);y(s,s)}}function w(e,t){if("math"===e)return f[t]||t;if("text"===e){var r=Object.keys(b).find((function(e){return b[e]===t}));if(!r){var s=t.codePointAt(0).toString(16);r="^".repeat(s.length)+s}return r}return t}var k={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484};function S(e,t,r){if(!e||0===e.length)return null;var s=null;if("\\"===e.charAt(0)){if(s=g[e])return s;if("math"===t?s=d[e]:b[e]&&(s={value:b[e]}),!s){var a=e.slice(1);if(null==r?void 0:r[a]){var i=r[a];"object"===p(i)&&(i=i.def);var n=0;for(/(^|[^\\])#1/.test(i)&&(n=1),/(^|[^\\])#2/.test(i)&&(n=2),/(^|[^\\])#3/.test(i)&&(n=3),/(^|[^\\])#4/.test(i)&&(n=4),/(^|[^\\])#5/.test(i)&&(n=5),/(^|[^\\])#6/.test(i)&&(n=6),/(^|[^\\])#7/.test(i)&&(n=7),/(^|[^\\])#8/.test(i)&&(n=8),/(^|[^\\])#9/.test(i)&&(n=9),s={type:"group",mode:"math",params:[],infix:!1};n>=1;)s.params.push({isOptional:!1,type:"math"}),n-=1}}}else"math"===t?s=d[e]:b[e]?s={value:b[e]}:"text"===t&&(s={value:e});return!s||"mord"!==s.type||"f"!==s.value&&"g"!==s.value&&"h"!==s.value||(s.isFunction=!0),s}function A(e){var t="auto",r=e.match(/:([^=]+)/);return r&&(t=r[1].trim()),t}function M(e){if(!e)return[];var t=[],r=e.split("]");if("["===r[0].charAt(0)){t.push({isOptional:!0,type:A(r[0].slice(1))});for(var s=1;s<=r.length;s++)t=t.concat(M(r[s]))}else if("{"===(r=e.split("}"))[0].charAt(0)){t.push({isOptional:!1,type:A(r[0].slice(1))});for(var a=1;a<=r.length;a++)t=t.concat(M(r[a]))}return t}function q(e,t,r,s,a){"string"==typeof e&&(e=[e]),r||(r={});var i={params:M(t),mode:r.mode,infix:Boolean(r.infix),parse:s,emit:a};e.forEach((function(e){g["\\"+e]=i}))}q(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overbrace","overlinesegment","overgroup"],"{:auto}",null,(function(e,t){return{type:"overunder",body:t[0],svgAbove:e.slice(1),skipBoundary:!0,limits:"overunder"}}),(function(e,t,r,s){return"".concat(e,"{").concat(s(r,r.body),"}")})),q(["underrightarrow","underleftarrow","underleftrightarrow","underbrace","underlinesegment","undergroup"],"{:auto}",null,(function(e,t){return{type:"overunder",body:t[0],svgBelow:e.slice(1),skipBoundary:!0,limits:"overunder"}}),(function(e,t,r,s){return"".concat(e,"{").concat(s(r,r.body),"}")})),q(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",null,(function(e,t){var r=t[1];return 0===(null==r?void 0:r.length)&&(r=null),{type:"overunder",mathtype:"mrel",svgBody:e.slice(1),overscript:r,underscript:t[0]}}),(function(e,t,r,s){return e+(void 0!==r.underscript?"[".concat(s(r,r.underscript),"]"):"")+"{".concat(s(r,r.overscript),"}")})),q(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","coth","ctg","cth","cotg","csc","cosec","deg","dim","exp","hom","inf","ker","lg","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th"],"",null,(function(e){return{type:"mop",limits:"nolimits",isSymbol:!1,isFunction:!0,body:e.slice(1),variant:"main",variantStyle:"up"}})),q(["liminf","limsup"],"",null,(function(e){return{type:"mop",limits:"limits",isSymbol:!1,body:{"\\liminf":"lim inf","\\limsup":"lim sup"}[e],variant:"main"}})),q(["lim","mod"],"",null,(function(e){return{type:"mop",limits:"limits",isSymbol:!1,body:e.slice(1),variant:"main"}})),q(["det","max","min"],"",null,(function(e){return{type:"mop",limits:"limits",isSymbol:!1,isFunction:!0,body:e.slice(1),variant:"main"}})),q("sqrt","[index:auto]{radicand:auto}",null,(function(e,t){return{type:"surd",body:t[1],index:t[0]}}),(function(e,t,r,s){var a="";return void 0!==r.index&&(a+="[".concat(s(r,r.index),"]")),e+(a+"{".concat(s(r,r.body),"}"))})),q(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{numerator}{denominator}",null,(function(e,t){var r={type:"genfrac",numer:t[0],denom:t[1],mathstyle:"auto"};switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":case"\\cfrac":r.hasBarLine=!0;break;case"\\\\atopfrac":r.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r.hasBarLine=!1,r.leftDelim="(",r.rightDelim=")"}switch(e){case"\\dfrac":case"\\dbinom":r.mathstyle="displaystyle";break;case"\\tfrac":case"\\tbinom":r.mathstyle="textstyle"}return"\\cfrac"===e&&(r.continuousFraction=!0),r}),(function(e,t,r,s){return"".concat(e,"{").concat(s(r,r.numer),"}{").concat(s(r,r.denom),"}")})),q(["over","atop","choose"],"",{infix:!0},(function(e,t){var r=t[0],s=t[1],a=!1,i=null,n=null;switch(e){case"\\atop":break;case"\\over":a=!0;break;case"\\choose":a=!1,i="(",n=")";break;default:throw new Error("Unrecognized genfrac command")}return{type:"genfrac",numer:r,denom:s,hasBarLine:a,leftDelim:i,rightDelim:n,mathstyle:"auto"}}),(function(e,t,r,s){return"{".concat(s(r,r.numer)).concat(e," ").concat(s(r,r.denom),"}")})),q("pdiff","{numerator}{denominator}",null,(function(e,t){return{type:"genfrac",numer:t[0],denom:t[1],numerPrefix:"∂",denomPrefix:"∂",hasBarLine:!0,leftDelim:null,rightDelim:null,mathstyle:"auto"}}),(function(e,t,r,s){return"".concat(e,"{").concat(s(r,r.numer),"}{").concat(s(r,r.denom),"}")})),q(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","smallint","intop"],"",null,(function(e){return{type:"mop",limits:"auto",isSymbol:!0,variant:"main",body:{coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[e.slice(1)]}}));var E={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};q(Object.keys(E),"",null,(function(e){return{type:"mop",limits:"nolimits",isSymbol:!0,body:E[e.slice(1)],variant:{"⋒":"ams","⋓":"ams"}[E[e.slice(1)]]}})),q(["Re","Im"],"",null,(function(e){return{type:"mop",limits:"nolimits",isSymbol:!1,isFunction:!0,body:{"\\Re":"ℜ","\\Im":"ℑ"}[e],variant:"fraktur"}})),q("middle","{:delim}",null,(function(e,t){return{type:"delim",delim:t[0]}})),function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t);y(r,r)}}("0123456789/@.?!"),x(65,90),x(97,122),y("\\forall","∀"),y("\\exists","∃"),y("\\nexists","∄","mord","ams"),y("\\mid","∣","mrel"),y("\\top","⊤"),y("\\bot","⊥"),y("\\sharp","♯"),y("\\flat","♭"),y("\\natural","♮"),y("\\#","#"),y("\\&","&"),y("\\clubsuit","♣"),y("\\heartsuit","♡"),y("\\spadesuit","♠"),y("\\diamondsuit","♢"),y("\\differencedelta","∆","mrel"),y("\\backslash","\\"),y("\\nabla","∇"),y("\\partial","∂"),y("\\ell","ℓ"),y("\\hbar","ℏ"),y("\\hslash","ℏ","mord","ams"),y("\\Finv","Ⅎ","mord","ams"),y("\\Game","⅁","mord","ams"),y("\\wp","℘"),y("\\eth","ð","mord","ams"),y("\\mho","℧","mord","ams"),y("\\Bbbk","k","mord","ams"),y("\\N","N","mord","double-struck"),y("\\R","R","mord","double-struck"),y("\\Q","Q","mord","double-struck"),y("\\C","C","mord","double-struck"),y("\\Z","Z","mord","double-struck"),y("\\P","P","mord","double-struck"),y("\\pounds","£"),y("\\yen","¥","mord","ams"),y("\\euro","€"),y("\\dagger","†","mbin"),y("\\dag","†","mbin"),y("\\ddag","‡","mbin"),y("\\ddagger","‡","mbin"),y("\\maltese","✠","mord","ams"),y("\\rightarrow","→","mrel"),y("\\to","→","mrel"),y("\\leftarrow","←","mrel"),y("\\gets","←","mrel"),y("\\Rightarrow","⇒","mrel"),y("\\Leftarrow","⇐","mrel"),y("\\longrightarrow","⟶","mrel"),y("\\longleftarrow","⟵","mrel"),y("\\Longrightarrow","⟹","mrel"),y("\\implies","⟹","mrel"),y("\\Longleftarrow","⟸","mrel"),y("\\impliedby","⟸","mrel"),y("\\dashrightarrow","⇢","mrel","ams"),y("\\dashleftarrow","⇠","mrel","ams"),y("\\Rrightarrow","⇛","mrel","ams"),y("\\Lleftarrow","⇚","mrel","ams"),y("\\longleftrightarrow","⟷","mrel"),y("\\biconditional","⟷","mrel"),y("\\Longleftrightarrow","⟺","mrel"),y("\\leftrightarrows","⇆","mrel","ams"),y("\\rightleftarrows","⇄","mrel","ams"),y("\\mapsto","↦","mrel"),y("\\longmapsto","⟼","mrel"),y("\\uparrow","↑","mrel"),y("\\downarrow","↓","mrel"),y("\\Uparrow","⇑","mrel"),y("\\Downarrow","⇓","mrel"),y("\\updownarrow","↕","mrel"),y("\\Updownarrow","⇕","mrel"),y("\\curvearrowright","↷","mrel","ams"),y("\\curvearrowleft","↶","mrel","ams"),y("\\hookrightarrow","↪","mrel"),y("\\hookleftarrow","↩","mrel"),y("\\rightharpoonup","⇀","mrel"),y("\\leftharpoonup","↼","mrel"),y("\\rightharpoondown","⇁","mrel"),y("\\leftharpoondown","↽","mrel"),y("\\rightrightarrows","⇉","mrel","ams"),y("\\leftleftarrows","⇇","mrel","ams"),y("\\upuparrows","⇈","mrel","ams"),y("\\downdownarrows","⇊","mrel","ams"),y("\\leftarrowtail","↢","mrel","ams"),y("\\rightarrowtail","↣","mrel","ams"),y("\\looparrowright","↬","mrel","ams"),y("\\looparrowleft","↫","mrel","ams"),y("\\twoheadleftarrow","↞","mrel","ams"),y("\\twoheadrightarrow","↠","mrel","ams"),y("\\rightleftharpoons","⇌","mrel"),y("\\leftrightharpoons","⇋","mrel","ams"),y("\\Rsh","↱","mrel","ams"),y("\\Lsh","↰","mrel","ams"),y("\\searrow","↘","mrel"),y("\\nearrow","↗","mrel"),y("\\swarrow","↙","mrel"),y("\\nwarrow","↖","mrel"),y("\\circlearrowright","↻","mrel","ams"),y("\\circlearrowleft","↺","mrel","ams"),y("\\restriction","↾","mrel","ams"),y("\\upharpoonright","↾","mrel","ams"),y("\\upharpoonleft","↿","mrel","ams"),y("\\downharpoonright","⇂","mrel","ams"),y("\\downharpoonleft","⇃","mrel","ams"),y("\\rightsquigarrow","⇝","mrel","ams"),y("\\leadsto","⇝","mrel","ams"),y("\\leftrightsquigarrow","↭","mrel","ams"),y("\\originalof","⊶","mrel"),y("\\laplace","⊶","mrel"),y("\\imageof","⊷","mrel"),y("\\Laplace","⊷","mrel"),y("\\multimap","⊸","mrel","ams"),y("\\nrightarrow","↛","mrel","ams"),y("\\nleftarrow","↚","mrel","ams"),y("\\nRightarrow","⇏","mrel","ams"),y("\\nLeftarrow","⇍","mrel","ams"),y("\\nleftrightarrow","↮","mrel","ams"),y("\\nLeftrightarrow","⇎","mrel","ams"),y("\\nless","≮","mrel","ams"),y("\\nleqslant","","mrel","ams"),y("\\lneq","⪇","mrel","ams"),y("\\lneqq","≨","mrel","ams"),y("\\nleqq","","mrel","ams"),y("\\unlhd","⊴","mbin","ams"),y("\\unrhd","⊵","mbin","ams"),y("\\lvertneqq","","mrel","ams"),y("\\lnsim","⋦","mrel","ams"),y("\\lnapprox","⪉","mrel","ams"),y("\\nprec","⊀","mrel","ams"),y("\\npreceq","⋠","mrel","ams"),y("\\precnsim","⋨","mrel","ams"),y("\\precnapprox","⪹","mrel","ams"),y("\\nsim","≁","mrel","ams"),y("\\nshortmid","","mrel","ams"),y("\\nmid","∤","mrel","ams"),y("\\nvdash","⊬","mrel","ams"),y("\\nvDash","⊭","mrel","ams"),y("\\ngtr","≯","mrel","ams"),y("\\ngeqslant","","mrel","ams"),y("\\ngeqq","","mrel","ams"),y("\\gneq","⪈","mrel","ams"),y("\\gneqq","≩","mrel","ams"),y("\\gvertneqq","","mrel","ams"),y("\\gnsim","⋧","mrel","ams"),y("\\gnapprox","⪊","mrel","ams"),y("\\nsucc","⊁","mrel","ams"),y("\\nsucceq","⋡","mrel","ams"),y("\\succnsim","⋩","mrel","ams"),y("\\succnapprox","⪺","mrel","ams"),y("\\ncong","≆","mrel","ams"),y("\\nshortparallel","","mrel","ams"),y("\\nparallel","∦","mrel","ams"),y("\\nVDash","⊯","mrel","ams"),y("\\nsupseteqq","","mrel","ams"),y("\\supsetneq","⊋","mrel","ams"),y("\\varsupsetneq","","mrel","ams"),y("\\supsetneqq","⫌","mrel","ams"),y("\\varsupsetneqq","","mrel","ams"),y("\\nVdash","⊮","mrel","ams"),y("\\precneqq","⪵","mrel","ams"),y("\\succneqq","⪶","mrel","ams"),y("\\nsubseteqq","","mrel","ams"),y("\\checkmark","✓","mord","ams"),y("\\diagup","╱","mord","ams"),y("\\diagdown","╲","mord","ams"),y("\\measuredangle","∡","mord","ams"),y("\\sphericalangle","∢","mord","ams"),y("\\backprime","‵","mord","ams"),y("\\backdoubleprime","‶","mord","ams"),y("\\ast","∗","mbin"),y("\\star","⋆","mbin"),y("\\diamond","⋄","mbin"),y("\\Diamond","◊","mord","ams"),y("\\lozenge","◊","mord","ams"),y("\\blacklozenge","⧫","mord","ams"),y("\\bigstar","★","mord","ams"),y("\\aleph","ℵ"),y("\\beth","ℶ","mord","ams"),y("\\daleth","ℸ","mord","ams"),y("\\gimel","ℷ","mord","ams"),y("\\lbrace","{","mopen"),y("\\rbrace","}","mclose"),y("\\langle","⟨","mopen"),y("\\rangle","⟩","mclose"),y("\\lfloor","⌊","mopen"),y("\\rfloor","⌋","mclose"),y("\\lceil","⌈","mopen"),y("\\rceil","⌉","mclose"),y("\\vert","∣"),y("\\mvert","∣","mrel"),y("\\lvert","∣","mopen"),y("\\rvert","∣","mclose"),y("\\|","∥"),y("\\Vert","∥"),y("\\mVert","∥"),y("\\lVert","∥","mopen"),y("\\rVert","∥","mclose"),y("\\parallel","∥","mrel"),y("\\shortparallel","∥","mrel","ams"),y("\\lbrack","[","mopen"),y("\\rbrack","]","mclose"),y("\\{","{","mopen"),y("\\}","}","mclose"),y("(","(","mopen"),y(")",")","mclose"),y("[","[","mopen"),y("]","]","mclose"),y("\\ulcorner","┌","mopen","ams"),y("\\urcorner","┐","mclose","ams"),y("\\llcorner","└","mopen","ams"),y("\\lrcorner","┘","mclose","ams"),y("\\lgroup","⟮","mopen"),y("\\rgroup","⟯","mclose"),y("\\lmoustache","⎰","mopen"),y("\\rmoustache","⎱","mclose"),y("=","=","mrel"),y("\\ne","≠","mrel"),y("\\neq","≠","mrel"),y("<","<","mrel"),y("\\lt","<","mrel"),y(">",">","mrel"),y("\\gt",">","mrel"),y("\\le","≤","mrel"),y("\\leq","≤","mrel"),y("\\ge","≥","mrel"),y("\\geq","≥","mrel"),y("\\leqslant","⩽","mrel","ams"),y("\\geqslant","⩾","mrel","ams"),y("\\ll","≪","mrel"),y("\\gg","≫","mrel"),y("\\coloneq","≔","mrel"),y("\\measeq","≝","mrel"),y("\\eqdef","≞","mrel"),y("\\questeq","≟","mrel"),y(":",":","mrel"),y("\\cong","≅","mrel"),y("\\equiv","≡","mrel"),y("\\prec","≺","mrel"),y("\\preceq","⪯","mrel"),y("\\succ","≻","mrel"),y("\\succeq","⪰","mrel"),y("\\perp","⊥","mrel"),y("\\propto","∝","mrel"),y("\\Colon","∷","mrel"),y("\\smile","⌣","mrel"),y("\\frown","⌢","mrel"),y("\\sim","∼","mrel"),y("\\gtrsim","≳","mrel","ams"),y("\\approx","≈","mrel"),y("\\approxeq","≊","mrel","ams"),y("\\thickapprox","≈","mrel","ams"),y("\\lessapprox","⪅","mrel","ams"),y("\\gtrapprox","⪆","mrel","ams"),y("\\precapprox","⪷","mrel","ams"),y("\\succapprox","⪸","mrel","ams"),y("\\thicksim","∼","mrel","ams"),y("\\succsim","≿","mrel","ams"),y("\\precsim","≾","mrel","ams"),y("\\backsim","∽","mrel","ams"),y("\\eqsim","≂","mrel","ams"),y("\\backsimeq","⋍","mrel","ams"),y("\\simeq","≃","mrel"),y("\\lesssim","≲","mrel","ams"),y("\\nleq","≰","mrel","ams"),y("\\ngeq","≱","mrel","ams"),y("\\smallsmile","⌣","mrel","ams"),y("\\smallfrown","⌢","mrel","ams"),y("\\bowtie","⋈","mrel"),y("\\Join","⋈","mrel"),y("\\asymp","≍","mrel"),y("\\sqsubseteq","⊑","mrel"),y("\\sqsupseteq","⊒","mrel"),y("\\leqq","≦","mrel","ams"),y("\\eqslantless","⪕","mrel","ams"),y("\\lll","⋘","mrel","ams"),y("\\lessgtr","≶","mrel","ams"),y("\\lesseqgtr","⋚","mrel","ams"),y("\\lesseqqgtr","⪋","mrel","ams"),y("\\risingdotseq","≓","mrel","ams"),y("\\fallingdotseq","≒","mrel","ams"),y("\\subseteqq","⫅","mrel","ams"),y("\\Subset","⋐","mrel","ams"),y("\\sqsubset","⊏","mrel","ams"),y("\\preccurlyeq","≼","mrel","ams"),y("\\curlyeqprec","⋞","mrel","ams"),y("\\vDash","⊨","mrel","ams"),y("\\Vvdash","⊪","mrel","ams"),y("\\bumpeq","≏","mrel","ams"),y("\\Bumpeq","≎","mrel","ams"),y("\\geqq","≧","mrel","ams"),y("\\eqslantgtr","⪖","mrel","ams"),y("\\ggg","⋙","mrel","ams"),y("\\gtrless","≷","mrel","ams"),y("\\gtreqless","⋛","mrel","ams"),y("\\gtreqqless","⪌","mrel","ams"),y("\\supseteqq","⫆","mrel","ams"),y("\\Supset","⋑","mrel","ams"),y("\\sqsupset","⊐","mrel","ams"),y("\\succcurlyeq","≽","mrel","ams"),y("\\curlyeqsucc","⋟","mrel","ams"),y("\\Vdash","⊩","mrel","ams"),y("\\shortmid","∣","mrel","ams"),y("\\between","≬","mrel","ams"),y("\\pitchfork","⋔","mrel","ams"),y("\\varpropto","∝","mrel","ams"),y("\\backepsilon","∍","mrel","ams"),y("\\llless","⋘","mrel","ams"),y("\\gggtr","⋙","mrel","ams"),y("\\lhd","⊲","mbin","ams"),y("\\rhd","⊳","mbin","ams"),y("\\doteq","≐","mrel"),y("\\doteqdot","≑","mrel","ams"),y("\\Doteq","≑","mrel","ams"),y("\\eqcirc","≖","mrel","ams"),y("\\circeq","≗","mrel","ams"),y("\\lessdot","⋖","mbin","ams"),y("\\gtrdot","⋗","mbin","ams"),y("\\~","~","mrel"),y("\\leftrightarrow","↔","mrel"),y("\\Leftrightarrow","⇔","mrel"),y("\\models","⊨","mrel"),y("\\vdash","⊢","mrel"),y("\\therefore","∴","mrel","ams"),y("\\because","∵","mrel","ams"),y("\\dashv","⊣","mrel"),y("\\roundimplies","⥰","mrel"),y("+","+","mbin"),y("-","−","mbin"),y("−","−","mbin"),y("\\pm","±","mbin"),y("\\mp","∓","mbin"),y("*","∗","mbin"),y("\\times","×","mbin"),y("\\div","÷","mbin"),y("\\surd","√"),y("\\divides","∣","mbin"),y("\\ltimes","⋉","mbin","ams"),y("\\rtimes","⋊","mbin","ams"),y("\\leftthreetimes","⋋","mbin","ams"),y("\\rightthreetimes","⋌","mbin","ams"),y("\\intercal","⊺","mbin","ams"),y("\\dotplus","∔","mbin","ams"),y("\\doublebarwedge","⩞","mbin","ams"),y("\\divideontimes","⋇","mbin","ams"),y("\\centerdot","⋅","mbin","ams"),y("\\cdot","⋅","mbin"),y("\\infty","∞"),y("\\prime","′"),y("\\doubleprime","″"),y("\\angle","∠"),y("`","‘"),y("\\$","$"),y("\\%","%"),y("\\_","_"),y("\\alpha","α"),y("\\beta","β"),y("\\gamma","γ"),y("\\delta","δ"),y("\\epsilon","ϵ"),y("\\varepsilon","ε"),y("\\zeta","ζ"),y("\\eta","η"),y("\\theta","θ"),y("\\vartheta","ϑ"),y("\\iota","ι"),y("\\kappa","κ"),y("\\varkappa","ϰ","mord","ams"),y("\\lambda","λ"),y("\\mu","μ"),y("\\nu","ν"),y("\\xi","ξ"),y("\\omicron","o"),y("\\pi","π"),y("\\varpi","ϖ"),y("\\rho","ρ"),y("\\varrho","ϱ"),y("\\sigma","σ"),y("\\varsigma","ς"),y("\\tau","τ"),y("\\phi","ϕ"),y("\\varphi","φ"),y("\\upsilon","υ"),y("\\chi","χ"),y("\\psi","ψ"),y("\\omega","ω"),y("\\Gamma","Γ"),y("\\Delta","Δ"),y("\\Theta","Θ"),y("\\Lambda","Λ"),y("\\Xi","Ξ"),y("\\Pi","Π"),y("\\Sigma","Σ"),y("\\Upsilon","Υ"),y("\\Phi","Φ"),y("\\Psi","Ψ"),y("\\Omega","Ω"),y("\\digamma","ϝ","mord","ams"),y("\\emptyset","∅"),y("\\varnothing","∅","mord","ams"),y("\\cap","∩","mbin"),y("\\cup","∪","mbin"),y("\\setminus","∖","mbin"),y("\\smallsetminus","∖","mbin","ams"),y("\\complement","∁","mord","ams"),y("\\in","∈","mrel"),y("\\notin","∉","mrel"),y("\\not","̸","mrel"),y("\\ni","∋","mrel"),y("\\owns","∋","mrel"),y("\\subset","⊂","mrel"),y("\\supset","⊃","mrel"),y("\\subseteq","⊆","mrel"),y("\\supseteq","⊇","mrel"),y("\\subsetneq","⊊","mrel","ams"),y("\\varsubsetneq","","mrel","ams"),y("\\subsetneqq","⫋","mrel","ams"),y("\\varsubsetneqq","","mrel","ams"),y("\\nsubset","⊄","mrel","ams"),y("\\nsupset","⊅","mrel","ams"),y("\\nsubseteq","⊈","mrel","ams"),y("\\nsupseteq","⊉","mrel","ams"),y("\\ "," ","spacing"),y("~"," ","spacing"),y("\\space"," ","spacing"),y("\\!",null,"spacing"),y("\\,",null,"spacing"),y("\\:",null,"spacing"),y("\\;",null,"spacing"),y("\\enskip",null,"spacing"),y("\\enspace",null,"spacing"),y("\\quad",null,"spacing"),y("\\qquad",null,"spacing"),y("\\colon",":","mpunct"),y("\\cdotp","⋅","mpunct"),y("\\cdots","⋯","minner"),y("\\ddots","⋱","minner"),y("\\ldots","…","minner"),y("\\mathellipsis","…","minner"),y("\\vdots","⋮"),y("\\ldotp",".","mpunct"),y(",",",","mpunct"),y(";",";","mpunct"),y("\\land","∧","mbin"),y("\\wedge","∧","mbin"),y("\\lor","∨","mbin"),y("\\vee","∨","mbin"),y("\\lnot","¬"),y("\\neg","¬"),y("\\barwedge","⊼","mbin","ams"),y("\\veebar","⊻","mbin","ams"),y("\\nor","⊻","mbin","ams"),y("\\curlywedge","⋏","mbin","ams"),y("\\curlyvee","⋎","mbin","ams"),y("\\square","□","mord","ams"),y("\\Box","□","mord","ams"),y("\\blacksquare","■","mord","ams"),y("\\boxminus","⊟","mbin","ams"),y("\\boxplus","⊞","mbin","ams"),y("\\boxtimes","⊠","mbin","ams"),y("\\boxdot","⊡","mbin","ams"),y("\\circ","∘","mbin"),y("\\bigcirc","◯","mbin"),y("\\bullet","∙","mbin"),y("\\circleddash","⊝","mbin","ams"),y("\\circledast","⊛","mbin","ams"),y("\\oplus","⊕","mbin"),y("\\ominus","⊖","mbin"),y("\\otimes","⊗","mbin"),y("\\odot","⊙","mbin"),y("\\circledcirc","⊚","mbin","ams"),y("\\oslash","⊘","mbin"),y("\\circledS","Ⓢ","mord","ams"),y("\\circledR","®","mord","ams"),y("\\triangle","△"),y("\\bigtriangleup","△","mbin"),y("\\vartriangle","△","mrel","ams"),y("\\triangleq","≜","mrel","ams"),y("\\triangledown","▽","mord","ams"),y("\\bigtriangledown","▽","mbin"),y("\\triangleleft","◃","mbin"),y("\\vartriangleleft","⊲","mrel","ams"),y("\\trianglelefteq","⊴","mrel","ams"),y("\\ntriangleleft","⋪","mrel","ams"),y("\\ntrianglelefteq","⋬","mrel","ams"),y("\\triangleright","▹","mbin"),y("\\vartriangleright","⊳","mrel","ams"),y("\\trianglerighteq","⊵","mrel","ams"),y("\\ntriangleright","⋫","mrel","ams"),y("\\ntrianglerighteq","⋭","mrel","ams"),y("\\blacktriangle","▲","mord","ams"),y("\\blacktriangledown","▼","mord","ams"),y("\\blacktriangleleft","◀","mrel","ams"),y("\\blacktriangleright","▶","mrel","ams"),y("\\/","/"),y("|","∣","textord"),y("\\And","&","mbin"),y("\\imath","ı"),y("\\jmath","ȷ"),y("\\degree","°"),y("'","′"),y('"',"”");var D={m0:"#3f3d99",m1:"#993d71",m2:"#998b3d",m3:"#3d9956",m4:"#3d5a99",m5:"#993d90",m6:"#996d3d",m7:"#43993d",m8:"#3d7999",m9:"#843d99"},F={apricot:"#FBB982",aquamarine:"#00B5BE",bittersweet:"#C04F17",black:"#221E1F",blue:"#2D2F92",bluegreen:"#00B3B8",blueviolet:"#473992",brickred:"#B6321C",brown:"#792500",burntorange:"#F7921D",cadetblue:"#74729A",carnationpink:"#F282B4",cerulean:"#00A2E3",cornflowerblue:"#41B0E4",cyan:"#00AEEF",dandelion:"#FDBC42",darkorchid:"#A4538A",emerald:"#00A99D",forestgreen:"#009B55",fuchsia:"#8C368C",goldenrod:"#FFDF42",gray:"#949698",green:"#00A64F",greenyellow:"#DFE674",junglegreen:"#00A99A",lavender:"#F49EC4",limegreen:"#8DC73E",magenta:"#EC008C",mahogany:"#A9341F",maroon:"#AF3235",melon:"#F89E7B",midnightblue:"#006795",mulberry:"#A93C93",navyblue:"#006EB8",olivegreen:"#3C8031",orange:"#F58137",orangered:"#ED135A",orchid:"#AF72B0",peach:"#F7965A",periwinkle:"#7977B8",pinegreen:"#008B72",plum:"#92268F",processblue:"#00B0F0",purple:"#99479B",rawsienna:"#974006",red:"#ED1B23",redorange:"#F26035",redviolet:"#A1246B",rhodamine:"#EF559F",royalblue:"#0071BC",royalpurple:"#613F99",rubinered:"#ED017D",salmon:"#F69289",seagreen:"#3FBC9D",sepia:"#671800",skyblue:"#46C5DD",springgreen:"#C6DC67",tan:"#DA9D76",tealblue:"#00AEB3",thistle:"#D883B7",turquoise:"#00B4CE",violet:"#58429B",violetred:"#EF58A0",white:"#FFFFFF",wildstrawberry:"#EE2967",yellow:"#FFF200",yellowgreen:"#98CC70",yelloworange:"#FAA21A"};function C(e){var t,r,s,a,i=e.toLowerCase().split("!"),n=255,o=255,l=255,m=-1,h=i.length>0&&"-"===i[0].charAt(0);h&&(i[0]=i[0].slice(1));for(var u=0;u<i.length;u++){r=n,s=o,a=l;var c=null===(t=i[u].match(/([a-z0-9]*)/))||void 0===t?void 0:t[1],p=F[c]||D[c];p||(p=i[u]);var d=p.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if((null==d?void 0:d[1])&&d[2]&&d[3])n=Math.max(0,Math.min(255,parseInt(d[1],16))),o=Math.max(0,Math.min(255,parseInt(d[2],16))),l=Math.max(0,Math.min(255,parseInt(d[3],16)));else if(null==(d=p.match(/^#([0-9a-f]{3})$/i))?void 0:d[1]){var f=parseInt(d[1][0],16),g=parseInt(d[1][1],16),v=parseInt(d[1][2],16);n=Math.max(0,Math.min(255,16*f+f)),o=Math.max(0,Math.min(255,16*g+g)),l=Math.max(0,Math.min(255,16*v+v))}else{if(!((null==(d=p.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?void 0:d[1])&&d[2]&&d[3]))return null;n=Math.max(0,Math.min(255,parseInt(d[1]))),o=Math.max(0,Math.min(255,parseInt(d[2]))),l=Math.max(0,Math.min(255,parseInt(d[3])))}m>=0&&(n=(1-m)*n+m*r,o=(1-m)*o+m*s,l=(1-m)*l+m*a,m=-1),u+1<i.length&&(m=Math.max(0,Math.min(100,parseInt(i[++u])))/100)}return m>=0&&(n=m*n+(1-m)*r,o=m*o+(1-m)*s,l=m*l+(1-m)*a),h&&(n=255-n,o=255-o,l=255-l),"#"+("00"+Math.round(n).toString(16)).slice(-2)+("00"+Math.round(o).toString(16)).slice(-2)+("00"+Math.round(l).toString(16)).slice(-2)}var $=10;function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;if("string"==typeof e){var s=e.match(/([-+]?[0-9.]*)\s*([a-zA-Z]+)/);s?(e=parseFloat(s[1]),t=s[2].toLowerCase()):e=parseFloat(e)}var a={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:$,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[t]||1;if(isFinite(r)){var i=Math.pow(10,r);return Math.round(e/$*a*i)/i}return e/$*a}var P,O=r((function(e){e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0})),B=r((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0})),j=r((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0})),I=t(r((function(e){e.exports=function(e){return O(e)||B(e)||n(e)||j()},e.exports.default=e.exports,e.exports.__esModule=!0}))),L=8205,z=[[L,1],[65038,2],[127995,5],[129456,4],[917536,96]],T=[127462,127487];function U(e){var t;return void 0===P&&(P={},z.forEach((function(e){for(var t=e[0];t<=e[0]+e[1]-1;t++)P[t]=!0}))),null!==(t=P[e])&&void 0!==t&&t}function R(e){return e>=T[0]&&e<=T[1]}function K(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==r.return||r.return()}finally{if(o)throw i}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var W=function(){function e(t){h(this,e),this.obeyspaces=!1,this.s=function(e){if(/^[\x20-\xFF]*$/.test(e))return e;for(var t=[],r=function(e){for(var t=[],r=0;r<e.length;r++){var s=e.charCodeAt(r);if(13===s&&10===e.charCodeAt(r+1)&&(s=10,r++),13!==s&&12!==s||(s=10),0===s&&(s=65533),s>=55296&&s<=56319){var a=e.charCodeAt(r+1);if(a>=56320&&a<=57343){var i=s-55296,n=a-56320;s=Math.pow(2,16)+i*Math.pow(2,10)+n,r++}}t.push(s)}return t}(e),s=0;s<r.length;){var a=r[s++],i=r[s];if(i===L){var n=s-1;for(s+=2;r[s]===L;)s+=2;t.push(String.fromCodePoint.apply(String,I(r.slice(n,s-n+1))))}else if(U(i)){for(var o=s-1;U(r[s]);)s+=r[s]===L?2:1;t.push(String.fromCodePoint.apply(String,I(r.slice(o,s-o))))}else R(a)?(s+=1,t.push(String.fromCodePoint.apply(String,I(r.slice(s-2,2))))):t.push(String.fromCodePoint(a))}return t}(t),this.pos=0}return u(e,[{key:"end",value:function(){return this.pos>=this.s.length}},{key:"get",value:function(){return this.pos<this.s.length?this.s[this.pos++]:""}},{key:"peek",value:function(){return this.s[this.pos]}},{key:"match",value:function(e){var t;return(null==(t="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join("")))?void 0:t[0])?(this.pos+=t[0].length,t[0]):null}},{key:"next",value:function(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]+/))return"<space>";if(this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]/))return"<space>";var e=this.get();if("\\"===e){if(!this.end()){var t=this.match(/^[a-zA-Z*]+/);if(t)this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]*/);else if(" "===(t=this.get()))return"<space>";return"\\"+t}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();var r=this.match(/^(\^(\^(\^(\^[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f][0-9a-f]/);if(r)return String.fromCodePoint(parseInt(r.slice(r.lastIndexOf("^")+1),16))}return e}if("#"===e){if(!this.end()){var s=!1;if(/[0-9?]/.test(this.peek())&&(s=!0,this.pos+1<this.s.length)){var a=this.s[this.pos+1];s=/[^0-9A-Za-z]/.test(a)}return s?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}}]),e}();function V(e,t){var r,s,a,i,n=[],o=e.next();if(o)if("\\relax"===o);else if("\\noexpand"===o)(o=e.next())&&n.push(o);else if("\\obeyspaces"===o)e.obeyspaces=!0;else if("\\space"===o||"~"===o)n.push("<space>");else if("\\bgroup"===o)n.push("<{>");else if("\\egroup"===o)n.push("<}>");else if("\\string"===o)(o=e.next())&&("\\"===o[0]?Array.from(o).forEach((function(e){return n.push("\\"===e?"\\backslash":e)})):"<{>"===o?n.push("\\{"):"<space>"===o?n.push("~"):"<}>"===o&&n.push("\\}"));else if("\\csname"===o){for(;"<space>"===e.peek();)e.next();var l="",m=!1,h=[];do{if(0===h.length)if(/^#[0-9?]$/.test(e.peek())){var u=e.get().slice(1);o=(h=Z(null!==(s=null!==(r=null==t?void 0:t[u])&&void 0!==r?r:null==t?void 0:t["?"])&&void 0!==s?s:"\\placeholder{}",t))[0]}else h=(o=e.next())?[o]:[];(m=0===h.length)||"\\endcsname"!==o||(m=!0,h.shift()),m||(m="<$>"===o||"<$$>"===o||"<{>"===o||"<}>"===o||o.length>1&&"\\"===o[0]),m||(l+=h.shift())}while(!m);l&&n.push("\\"+l),n=n.concat(h)}else if("\\endcsname"===o);else if(o.length>1&&"#"===o[0]){var c=o.slice(1);n=n.concat(Z(null!==(i=null!==(a=null==t?void 0:t[c])&&void 0!==a?a:null==t?void 0:t["?"])&&void 0!==i?i:"\\placeholder{}",t))}else n.push(o);return n}function Z(e,t){var r,s="",a="",i=K(e.toString().split(/\r?\n/));try{for(i.s();!(r=i.n()).done;){var n=r.value;s+=a,a=" ";var o=n.match(/((?:\\%)|[^%])*/);null!==o&&(s+=o[0])}}catch(e){i.e(e)}finally{i.f()}var l=new W(s),m=[];do{m=m.concat(V(l,t))}while(!l.end());return m}function G(e){return function(e){var t,r="",s="",a=K(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;i&&(/[a-zA-Z*]/.test(i[0])&&(s+=r),r=/\\[a-zA-Z]+\*?$/.test(i)?" ":"",s+=i)}}catch(e){a.e(e)}finally{a.f()}return s}(e.map((function(e){var t;return null!==(t={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])&&void 0!==t?t:e})))}function Q(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==r.return||r.return()}finally{if(o)throw i}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var J={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},Y=function(){function e(t,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};h(this,e),this.mode=t,this.type=r,this.body=s,a.isPhantom&&this.setPhantom(!0),this.applyStyle(a)}return u(e,[{key:"applyStyle",value:function(e){Object.assign(this,e),"none"===this.fontFamily&&(this.fontFamily=""),"auto"===this.fontShape&&(this.fontShape=""),"auto"===this.fontSeries&&(this.fontSeries=""),"none"===this.color&&(this.color=""),"none"===this.backgroundColor&&(this.backgroundColor=""),"auto"===this.fontSize&&(this.fontSize=""),this.fontSize&&(this.maxFontSize=J[this.fontSize]),"text"===this.mode&&"root"!==this.type&&(this.type="")}},{key:"setPhantom",value:function(e){this.forEach((function(t){t.isPhantom=e}))}},{key:"forEach",value:function(e){if(e(this),c(this.body)){var t,r=Q(this.body);try{for(r.s();!(t=r.n()).done;){var s=t.value;s&&s.forEach(e)}}catch(e){r.e(e)}finally{r.f()}}else this.body&&"object"===p(this.body)&&e(this.body);if(this.superscript){var a,i=Q(this.superscript);try{for(i.s();!(a=i.n()).done;){var n=a.value;n&&n.forEach(e)}}catch(e){i.e(e)}finally{i.f()}}if(this.subscript){var o,l=Q(this.subscript);try{for(l.s();!(o=l.n()).done;){var m=o.value;m&&m.forEach(e)}}catch(e){l.e(e)}finally{l.f()}}if(this.overscript){var h,u=Q(this.overscript);try{for(u.s();!(h=u.n()).done;){var d=h.value;d&&d.forEach(e)}}catch(e){u.e(e)}finally{u.f()}}if(this.underscript){var f,g=Q(this.underscript);try{for(g.s();!(f=g.n()).done;){var v=f.value;v&&v.forEach(e)}}catch(e){g.e(e)}finally{g.f()}}if(this.numer){var b,y=Q(this.numer);try{for(y.s();!(b=y.n()).done;){var x=b.value;x&&x.forEach(e)}}catch(e){y.e(e)}finally{y.f()}}if(this.denom){var w,k=Q(this.denom);try{for(k.s();!(w=k.n()).done;){var S=w.value;S&&S.forEach(e)}}catch(e){k.e(e)}finally{k.f()}}if(this.index){var A,M=Q(this.index);try{for(M.s();!(A=M.n()).done;){var q=A.value;q&&q.forEach(e)}}catch(e){M.e(e)}finally{M.f()}}if(this.array){var E,D=Q(this.array);try{for(D.s();!(E=D.n()).done;){var F,C=Q(E.value);try{for(C.s();!(F=C.n()).done;){var $,_=Q(F.value);try{for(_.s();!($=_.n()).done;)$.value.forEach(e)}catch(e){_.e(e)}finally{_.f()}}}catch(e){C.e(e)}finally{C.f()}}}catch(e){D.e(e)}finally{D.f()}}}},{key:"bind",value:function(e,t){return"first"!==this.type&&"​"!==this.body&&(this.id=function(e){var t;return e.atomIdsSettings&&("number"==typeof e.atomIdsSettings.seed?(t=e.atomIdsSettings.overrideID?e.atomIdsSettings.overrideID:e.atomIdsSettings.seed.toString(36),e.atomIdsSettings.seed+=1):t=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36)),t}(e),this.id&&(t.attributes||(t.attributes={}),t.attributes["data-atom-id"]=this.id)),t}}]),e}(),H={};function ee(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==r.return||r.return()}finally{if(o)throw i}}}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e){return!/^<({|}|\$|\$\$|space)>$/.test(e)}var ie=function(){function e(t,r,s,a){var i=this;h(this,e),this.index=0,this.style={},this.parseMode="math",this.smartFence=!1,this.tabularMode=!1,this.atoms=[],this.endCount=0,this.tokens=t,this.args=r,this.macros=s,this.onError=function(e){return a(se({before:G(i.tokens.slice(i.index,i.index+10)),after:G(i.tokens.slice(Math.max(0,i.index-10),i.index))},e))}}return u(e,[{key:"swapAtoms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.atoms;return this.atoms=e,t}},{key:"swapParseMode",value:function(e){var t=this.parseMode;return this.parseMode=e,t}},{key:"end",value:function(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}},{key:"get",value:function(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}},{key:"peek",value:function(){return this.tokens[this.index]}},{key:"match",value:function(e){return this.tokens[this.index]===e&&(this.index++,!0)}},{key:"lastSubsupAtom",value:function(){var e=0===this.atoms.length?void 0:this.atoms[this.atoms.length-1];return(!e||"mop"!==e.type&&"leftright"!==e.type&&"msubsup"!==e.type)&&((null==e?void 0:e.limits)&&"nolimits"!==(null==e?void 0:e.limits)||this.atoms.push(new Y(this.parseMode,"msubsup","​"))),this.atoms[this.atoms.length-1]}},{key:"hasPattern",value:function(e){return e.test(this.tokens[this.index])}},{key:"hasInfixCommand",value:function(){var e=this.index;if(e<this.tokens.length&&"\\"===this.tokens[e][0]){var t=S(this.tokens[e],this.parseMode,this.macros);return!((null==t?void 0:t.mode)&&!t.mode.includes(this.parseMode))&&(null==t?void 0:t.infix)}return!1}},{key:"matchColumnSeparator",value:function(){var e=this.index;return!(!this.tabularMode||"&"!==this.tokens[e]||(this.index++,0))}},{key:"matchRowSeparator",value:function(){var e=this.index;return!(!this.tabularMode||"\\\\"!==this.tokens[e]&&"\\cr"!==this.tokens[e]||(this.index++,0))}},{key:"placeholder",value:function(){var e;if(!this.args||void 0===this.args["?"]){var t=new Y(this.parseMode,"placeholder","?",this.style);return t.captureSelection=!0,[t]}return"string"==typeof(null===(e=this.args)||void 0===e?void 0:e["?"])?ne(this.args["?"],this.parseMode,null,this.macros,!1,this.onError):this.args["?"]}},{key:"matchWhitespace",value:function(){for(var e=!1;this.match("<space>");)e=!0;return e}},{key:"skipUntilToken",value:function(e){for(var t=this.tokens[this.index];t&&t!==e;)t=this.tokens[++this.index];t===e&&this.index++}},{key:"skipFiller",value:function(){var e=!1;do{var t=this.matchWhitespace(),r=this.match("\\relax");e=!t&&!r}while(!e)}},{key:"matchKeyword",value:function(e){for(var t=this.index,r=this.end(),s="";!r;){var a=this.get();ae(a)?(s+=a,r=this.end()||s.length>=e.length):r=!0}var i=e.toUpperCase()===s.toUpperCase();return i||(this.index=t),i}},{key:"scanString",value:function(){for(var e="",t=this.end();!t;){if(this.match("<space>"))e+=" ";else{var r=this.peek();"]"===r?t=!0:ae(r)?e+=this.get():"\\"===r[0]?(this.onError({code:"unbalanced-braces"}),e+=this.get()):t=!0}t=t||this.end()}return e}},{key:"scanBalancedString",value:function(){for(var e="",t=this.end(),r=1;!t;){if(this.match("<space>"))e+=" ";else{var s=this.get();"<{>"===s?(e+="{",r+=1):"<}>"===s?(r-=1)>0?e+="}":this.index-=1:e+="<$>"===s?"$":"<$$>"===s?"$$":s}t=0===r||this.end()}return e}},{key:"matchLiteralArg",value:function(){var e,t="";if(this.match("<{>"))for(var r=1;r>0&&!this.end();){var s=this.get();"<}>"===s?(r-=1)>0&&(t+="}"):"<{>"===s?(r+=1,t+="{"):t+=null!==(e={"<space>":" ","<$$>":"$$","<$>":"$"}[s])&&void 0!==e?e:s}return t}},{key:"scanColor",value:function(){return C(this.scanString())}},{key:"scanNumber",value:function(){for(var e,t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=!1,a=this.peek();"<space>"===a||"+"===a||"-"===a;)this.get(),"-"===a&&(s=!s),a=this.peek();r=Boolean(r);var i=10,n=/[0-9]/;if(this.match("'"))i=8,n=/[0-7]/,r=!0;else if(this.match('"')||this.match("x"))i=16,n=/[0-9A-F]/,r=!0;else if(this.match("`"))return(a=this.get())?a.startsWith("\\")&&2===a.length?(s?-1:1)*(null!==(e=a.codePointAt(1))&&void 0!==e?e:0):(s?-1:1)*(null!==(t=a.codePointAt(0))&&void 0!==t?t:0):NaN;for(var o="";this.hasPattern(n);)o+=this.get();if(!r&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(n);)o+=this.get();var l=r?parseInt(o,i):parseFloat(o);return s?-l:l}},{key:"scanDimen",value:function(){var e,t=this.scanNumber(!1);return this.matchWhitespace(),this.matchKeyword("pt")?e=_(t,"pt"):this.matchKeyword("mm")?e=_(t,"mm"):this.matchKeyword("cm")?e=_(t,"cm"):this.matchKeyword("ex")?e=_(t,"ex"):this.matchKeyword("px")?e=_(t,"px"):this.matchKeyword("em")?e=_(t,"em"):this.matchKeyword("bp")?e=_(t,"bp"):this.matchKeyword("dd")?e=_(t,"dd"):this.matchKeyword("pc")?e=_(t,"pc"):this.matchKeyword("in")?e=_(t,"in"):this.matchKeyword("mu")?e=_(t,"mu"):(this.onError({code:"missing-unit"}),e=_(t,"pt")),e}},{key:"scanSkip",value:function(){var e=this.scanDimen();return this.matchWhitespace(),this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.matchKeyword("minus")&&this.scanDimen(),e}},{key:"scanColspec",value:function(){this.matchWhitespace();for(var e=[];!this.end()&&"<}>"!==this.peek()&&"]"!==this.peek();){var t=this.get();if("c"===t||"r"===t||"l"===t)e.push({align:t});else if("|"===t)e.push({rule:!0});else if("@"===t){if(this.match("<{>")){var r=this.swapParseMode("math");e.push({gap:this.parse((function(e){return"<}>"===e}))}),this.swapParseMode(r)}this.match("<}>")||this.onError({code:"unbalanced-braces"})}}return e}},{key:"parseModeSet",value:function(){var e="";if(this.match("\\(")&&(e="\\)"),!e&&this.match("\\[")&&(e="\\]"),!e)return null;var t=this.swapParseMode("math"),r=new Y("math","group");return r.mathstyle="\\)"===e?"textstyle":"displaystyle",r.body=this.parse((function(t){return t===e})),this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.swapParseMode(t),r.body&&0!==r.body.length?r:null}},{key:"parseModeShift",value:function(){var e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;var t=new Y("math","group");t.mathstyle="<$>"===e?"textstyle":"displaystyle",t.latexOpen="<$>"===e?"$":"$$",t.latexClose=t.latexOpen;var r=this.swapParseMode("math");return t.body=this.parse((function(t){return t===e})),this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.swapParseMode(r),t.body&&0!==t.body.length?t:null}},{key:"parseEnvironment",value:function(){if(!this.match("\\begin"))return null;var e=this.parseArgument("string");if(!e)return null;var t,r=null!==(t=v[e])&&void 0!==t?t:null;if(!r)return this.onError({code:"unknown-environment",arg:e}),null;var s=[];if(null==r?void 0:r.params){var a,i=ee(r.params);try{for(i.s();!(a=i.n()).done;){var n=a.value;if(n.isOptional)s.push(this.parseOptionalArgument(n.type));else{var o=this.parseArgument(n.type);o||this.onError({code:"missing-argument",arg:e}),s.push(o)}}}catch(e){i.e(e)}finally{i.f()}}var l=this.parseMode,m=this.tabularMode,h=this.swapAtoms([]);this.tabularMode=r.tabular;var u=[],c=[],p=[],d=!1;do{if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),d=!0),!d&&this.match("\\end")&&(this.parseArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),d=!0),!d)if(this.matchColumnSeparator())p.push(this.swapAtoms([]));else if(this.matchRowSeparator()){p.push(this.swapAtoms([]));var f=0;this.matchWhitespace(),this.match("[")&&(f=this.scanDimen(),this.matchWhitespace(),this.match("]")),c.push(f||0),u.push(p),p=[]}else this.atoms=this.atoms.concat(this.parse((function(e){return"<}>"===e||"&"===e||"\\end"===e||"\\cr"===e||"\\\\"===e})))}while(!d);p.push(this.swapAtoms([])),p.length>0&&u.push(p);var g=this.swapAtoms(h);if(this.parseMode=l,this.tabularMode=m,!r.tabular&&0===g.length)return null;if(r.tabular&&0===u.length)return null;var b=new Y(this.parseMode,"array",g);return Object.assign(b,r.parser(e,s,u)),b.array=u,b.rowGaps=c,b.environmentName=e,b}},{key:"parse",value:function(e){var t,r=this.style;e||(e=function(e){return"<}>"===e});for(var s,a="",i=null,n=[],o=null,l=this.swapAtoms([]);!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!a?((i=S(a=this.get(),"math",this.macros))&&(n=this.parseArguments(i)[1]),o=this.swapAtoms([])):this.parseToken();return a?(n.unshift(this.swapAtoms(l)),o&&n.unshift(o),(s=[new Y(this.parseMode,i.type,null!==(t=i.value)&&void 0!==t?t:a.slice(1),i.parse?i.parse(a,n):null)])[0].symbol=a):s=this.swapAtoms(l),this.style=r,s}},{key:"parseGroup",value:function(){if(!this.match("<{>"))return null;var e=new Y(this.parseMode,"group");return e.body=this.parse((function(e){return"<}>"===e})),this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.latexOpen="{",e.latexClose="}",e}},{key:"scanSmartFence",value:function(){if(this.matchWhitespace(),!this.match("("))return null;var e=new Y(this.parseMode,"leftright");e.leftDelim="(",e.inner=!1;for(var t=this.swapAtoms([]),r=1;!this.end()&&0!==r;)this.match("(")&&(r+=1),this.match(")")&&(r-=1),0!==r&&this.parseToken();return 0===r&&this.match(")"),e.rightDelim=0===r?")":"?",e.body=this.swapAtoms(t),e}},{key:"scanDelim",value:function(){this.matchWhitespace();var e=this.get();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;var t=".";("\\"===e[0]||ae(e))&&(t=e);var r=S(t,"math",this.macros);return r?r.mode&&!r.mode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):"mopen"===r.type||"mclose"===r.type||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}},{key:"parseLeftRight",value:function(){if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;var e=this.style,t="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;t="\\mright"}var r=this.scanDelim();if(!r)return null;for(var s=this.swapAtoms([]);!this.end()&&!this.match(t);)this.parseToken();this.style=e;var a=this.scanDelim(),i=new Y(this.parseMode,"leftright","",this.style);return i.leftDelim=r,i.rightDelim=null!=a?a:void 0,i.inner="right"===t,i.body=this.swapAtoms(s),i}},{key:"parseSupSub",value:function(){var e,t;if("math"!==this.parseMode)return!1;for(var r=!1,s=this.peek();"^"===s||"_"===s||"'"===s;){var a="_"===s?"subscript":"superscript";if(this.match("^")||this.match("_")){var i=this.parseArgument("math");if(i){var n=this.lastSubsupAtom();n[a]=(null!==(e=n[a])&&void 0!==e?e:[]).concat(i),r=!0}}else if(this.match("'")){var o=this.lastSubsupAtom(),l=new Y(o.mode,"mord","′");l.symbol="\\prime",o.superscript=null!==(t=o.superscript)&&void 0!==t?t:[],o.superscript.push(l),r=!0}s=this.peek()}return r}},{key:"parseLimits",value:function(){if(this.match("\\limits")){var e=this.lastSubsupAtom();return e.limits="limits",e.explicitLimits=!0,!0}if(this.match("\\nolimits")){var t=this.lastSubsupAtom();return t.limits="nolimits",t.explicitLimits=!0,!0}return!1}},{key:"parseArguments",value:function(e){if(!e||!e.params)return[void 0,[]];for(var t,r=[],s=e.infix?2:0;s<e.params.length;){var a=e.params[s];if(a.isOptional)r.push(this.parseOptionalArgument(a.type));else if(a.type.endsWith("*"))t=a.type.slice(0,-1);else{var i=this.parseArgument(a.type);void 0!==i?r.push(i):(this.onError({code:"missing-argument"}),r.push(this.placeholder()))}s+=1}return[t,r]}},{key:"parseArgument",value:function(t){var r,s,a=this;if(this.skipFiller(),t="auto"===t?this.parseMode:t,!this.match("<{>")){if("delim"===t)return null!==(r=this.scanDelim())&&void 0!==r?r:".";if(/^(math|text)$/.test(t)){var i=this.swapParseMode(t),n=this.parseSimpleToken();return this.swapParseMode(i),n}}var o=this.parseMode;this.parseMode=t;var l=this.swapAtoms([]);if("string"===t)s=this.scanString(),this.skipUntilToken("<}>");else if("balanced-string"===t)s=this.scanBalancedString(),this.skipUntilToken("<}>");else if("number"===t)s=this.scanNumber(),this.skipUntilToken("<}>");else if("dimen"===t)s=this.scanDimen(),this.skipUntilToken("<}>");else if("skip"===t)s=this.scanSkip(),this.skipUntilToken("<}>");else if("colspec"===t)s=this.scanColspec(),this.skipUntilToken("<}>");else if("color"===t)s=this.scanColor()||"#ffffff",this.skipUntilToken("<}>");else if("delim"===t)s=this.scanDelim()||".",this.skipUntilToken("<}>");else{var m=this.index,h=1;do{var u=this.get();"<}>"===u&&(h-=1),"<{>"===u&&(h+=1)}while(h>0&&!this.end());if(!(s=function(e,t,r,s){var a;return(null===(a=H[e])||void 0===a?void 0:a.parse)?H[e].parse(t,r,s):null}(t,this.tokens.slice(m,this.index-1),this.onError,{args:this.args,macros:this.macros,smartFence:this.smartFence,style:this.style,parse:function(t,r,i){var n=new e(r,i.args,i.macros,a.onError);return n.parseMode=t,n.style=i.style,[s=n.parse(),r.slice(n.index)]}}))){this.index=m;do{this.atoms=this.atoms.concat(this.parse())}while(!this.match("<}>")&&!this.end())}}this.parseMode=o;var c=this.swapAtoms(l);return null!=s?s:c}},{key:"parseOptionalArgument",value:function(e){var t;if(e="auto"===e?this.parseMode:e,this.matchWhitespace(),!this.match("["))return null;var r=this.parseMode;this.parseMode=e;for(var s,a=this.swapAtoms();!this.end()&&!this.match("]");)if("string"===e)s=this.scanString();else if("number"===e)s=this.scanNumber();else if("dimen"===e)s=this.scanDimen();else if("skip"===e)s=this.scanSkip();else if("colspec"===e)s=this.scanColspec();else if("color"===e)s=null!==(t=this.scanColor())&&void 0!==t?t:"#ffffff";else if("bbox"===e){var i,n={},o=ee(this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/));try{for(o.s();!(i=o.n()).done;){var l=i.value,m=C(l);if(m)n.backgroundcolor=m;else{var h=l.match(/^\s*([0-9.]+)\s*([a-z][a-z])/);if(h)n.padding=_(h[1],h[2]);else{var u=l.match(/^\s*border\s*:\s*(.*)/);u&&(n.border=u[1])}}}}catch(e){o.e(e)}finally{o.f()}s=n}else this.atoms=this.atoms.concat(this.parse((function(e){return"]"===e})));this.parseMode=r;var c=this.swapAtoms(a);return null!=s?s:c}},{key:"parseSimpleToken",value:function(){var e=this.get();if(!e)return null;var t=null;if("<space>"===e)"text"===this.parseMode&&((t=new Y("text",""," ",this.style)).symbol=" ");else if("\\"===e[0]){if("\\placeholder"===e)(t=new Y(this.parseMode,"placeholder",this.parseArgument("string"),this.style)).captureSelection=!0;else if("\\char"===e){var r=this.index,s=Math.floor(this.scanNumber(!0));(!isFinite(s)||s<0||s>1114111)&&(s=10067),(t=new Y(this.parseMode,"math"===this.parseMode?"mord":"",String.fromCodePoint(s))).symbol="\\char",t.latex="\\char"+G(this.tokens.slice(r,this.index))}else if("\\hskip"===e||"\\kern"===e){var a=this.scanSkip();isFinite(a)&&((t=new Y(this.parseMode,"spacing",null,this.style)).width=a,t.symbol=e,t.latex=e)}else if(!(t=this.scanMacro(e))){var i=S(e,this.parseMode,{});if(!i)return this.onError({code:"unknown-command",arg:e}),(t=new Y("math","error",e)).symbol=e,t.latex=e,[t];if(i.mode&&!i.mode.includes(this.parseMode))return this.onError({code:"invalid-command",arg:e}),(t=new Y("math","error",e)).symbol=e,t.latex=e,[t];var n=this.index,o=this.parseArguments(i),m=l(o,2),h=m[0],u=m[1];if(!u)return null;if(i.infix)this.onError({code:"too-many-infix-commands",arg:e});else{if(i.parse){var p=i.parse(e,u);if(p.type)t=new Y(this.parseMode,i.type,h?this.parseArgument(h):null,se(se({},this.style),p));else{var d=this.parseMode;if(p.mode&&(this.parseMode=p.mode,delete p.mode),p.mathstyle){this.parseMode="math";var f=new Y("math","mathstyle");f.mathstyle=p.mathstyle,this.atoms.push(f)}if(h){var g=this.style;this.style=se(se({},this.style),p),t=this.parseArgument(h),this.style=g}else this.style=se(se({},this.style),p);this.parseMode=d}}else{var v=se(se({},this.style),{},{variant:i.variant||this.style.variant,variantStyle:i.variantStyle||this.style.variantStyle});t=new Y(this.parseMode,i.type||"mop",i.value||e,v)}if(t instanceof Y&&!/^\\(llap|rlap|class|cssId)$/.test(e)){t.symbol=e;var b=G(this.tokens.slice(n,this.index));if(b&&(t.latex=t.symbol+b),t.isFunction&&this.smartFence){var y=this.scanSmartFence();y&&(t=[t,y])}}}}}else if(ae(e)){var x=S(e,this.parseMode,this.macros);if(x){var A=se({},this.style);t=new Y(this.parseMode,x.type,x.value||e,A),x.isFunction&&(t.isFunction=!0)}else t=new Y(this.parseMode,"math"===this.parseMode?"mord":"",e,this.style);if(t.symbol=e,t.latex=function(e,t){if("text"===e)return w(e,t)||t;var r;if(r=w(e,t))return r;var s=function(e){var t;if((e<119808||e>120831)&&(e<8448||e>8527))return{char:String.fromCodePoint(e)};for(var r in k)if(Object.prototype.hasOwnProperty.call(k,r)&&k[r]===e){e=null!==(t=r.codePointAt(0))&&void 0!==t?t:0;break}return{char:String.fromCodePoint(e)}}(t.codePointAt(0));return s.style||s.variant?(r=s.char,s.variant&&(r="\\"+s.variant+"{"+r+"}"),"bold"===s.style?r="\\mathbf{"+r+"}":"italic"===s.style?r="\\mathit{"+r+"}":"bolditalic"===s.style&&(r="\\mathbfit{"+r+"}"),"\\mathord{"+r+"}"):""}(this.parseMode,e),(null==x?void 0:x.isFunction)&&this.smartFence){var M=this.scanSmartFence();M&&(t=[t,M])}}else"<}>"===e?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e});return t&&!c(t)?[t]:t}},{key:"scanMacro",value:function(e){var t,r=e.slice(1);if(!this.macros||!this.macros[r])return null;var s,a=this.index,i=[],n=0;"string"==typeof this.macros[r]?(s=this.macros[r],/(^|[^\\])#1/.test(s)&&(n=1),/(^|[^\\])#2/.test(s)&&(n=2),/(^|[^\\])#3/.test(s)&&(n=3),/(^|[^\\])#4/.test(s)&&(n=4),/(^|[^\\])#5/.test(s)&&(n=5),/(^|[^\\])#6/.test(s)&&(n=6),/(^|[^\\])#7/.test(s)&&(n=7),/(^|[^\\])#8/.test(s)&&(n=8),/(^|[^\\])#9/.test(s)&&(n=9)):(s=this.macros[r].def,n=this.macros[r].args||0);for(var o=1;o<=n;o++)i[o]=this.matchLiteralArg();i["?"]=null===(t=this.args)||void 0===t?void 0:t["?"];var l=new Y(this.parseMode,"group",ne(s,this.parseMode,i,this.macros,!1,this.onError));return l.captureSelection=!0,l.symbol=e,l.latex=e+G(this.tokens.slice(a,this.index)),l}},{key:"parseToken",value:function(){var e=this.parseEnvironment()||this.parseModeShift()||this.parseModeSet()||this.parseGroup()||this.parseLeftRight();return!(e||!this.parseSupSub()&&!this.parseLimits())||(e||(e=this.parseSimpleToken()),c(e)?this.atoms=this.atoms.concat(e):e&&this.atoms.push(e),null!==e)}}]),e}();function ne(e,t,r,s){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,n=[],o=new ie(Z(e,r),r,s,(function(t){"function"==typeof i&&i(se(se({},t),{},{latex:e}))}));for(o.parseMode=t||"math",a&&(o.smartFence=!0);!o.end();){var l=o.parse();l&&(n=n.concat(l))}return n}var oe={"−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega"},le={"\\pm":"+-","\\times":"*","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\langle":"(:","\\rangle":":)"};function me(e){if(!e)return"";if(c(e)){var t="";if(0===e.length)return"";if("first"===e[0].type&&(e=e.slice(1)),0===e.length)return"";if("text"===e[0].mode){var r=0;for(t='"';e[r]&&"text"===e[r].mode;)t+=e[r].body,r++;t+='"'+me(e.slice(r))}else if("math"===e[0].mode){for(var s=0;e[s]&&"math"===e[s].mode;)t+=me(e[s]),s++;t+=me(e.slice(s))}return t.trim()}if("text"===e.mode)return'"'+e.body+'"';var a,i="",n=e.symbol;switch(e.type){case"group":case"root":i=me(e.body);break;case"array":break;case"genfrac":(e.leftDelim||e.rightDelim)&&(i+="."!==e.leftDelim&&e.leftDelim?e.leftDelim:"{:"),e.hasBarLine?(i+="(",i+=me(e.numer),i+=")/(",i+=me(e.denom),i+=")"):(i+="("+me(e.numer)+"),",i+="("+me(e.denom)+")"),(e.leftDelim||e.rightDelim)&&(i+="."!==e.rightDelim&&e.rightDelim?e.rightDelim:"{:");break;case"surd":e.index?i+="root("+me(e.index)+")("+me(e.body)+")":i+="sqrt("+me(e.body)+")";break;case"leftright":i+="."!==e.leftDelim&&e.leftDelim?e.leftDelim:"{:",i+=me(e.body),i+="."!==e.rightDelim&&e.rightDelim?e.rightDelim:":}";break;case"sizeddelim":case"delim":case"overlap":case"overunder":break;case"mord":"\\"===(i=oe[n]||n||("string"==typeof e.body?e.body:""))[0]&&(i=String(i)),(a=n?n.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null)?i=String.fromCharCode(parseInt("0x"+a[1])):i.length>0&&"\\"===i.charAt(0)&&(i="string"==typeof e.body?e.body.charAt(0):e.symbol);break;case"mbin":case"mrel":case"textord":case"minner":i=n&&oe[n]?oe[n]:n&&le[n]?le[n]:e.body;break;case"mopen":case"mclose":i+=e.body;break;case"mpunct":i=le[n]||n;break;case"mop":"​"!==e.body&&(i="",i+="\\operatorname"===n?me(e.body):e.body||n,i+=" ");break;case"mathstyle":case"box":case"spacing":case"enclose":break;case"space":i=" "}if(e.subscript){i+="_";var o=me(e.subscript);o.length>1&&!/^(-)?\d+(\.\d*)?$/.test(o)?i+="("+o+")":i+=o}if(e.superscript){i+="^";var l=me(e.superscript);l.length>1&&!/^(-)?\d+(\.\d*)?$/.test(l)?i+="("+l+")":i+=l}return i}var he={latexToAsciiMath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"math",r=ne(e,t,null,null);return me(r)}};e.debug=he,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).ZYMath={});
